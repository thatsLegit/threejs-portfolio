<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Ilya's portfolio</title>
        <link rel="icon" href="./assets/block.png" />
    </head>

    <body>
        <div class="container">
            <!-- full screen button -->
            <img src="./assets/full-screen.png" alt="full-screen" id="full-screen" />
            <!-- magic cube alerts -->
            <div class="alert" id="alert">
                <div id="alert-text" class="unselectable"></div>
            </div>
            <!-- game over screen overlay -->
            <div class="overlay">
                <div class="overlay-content">
                    <p id="try-again-text">Try again</p>
                </div>
            </div>
            <!-- cube faces iframes -->
            <!-- <iframe
        id="aboutMe"
        class="iframe-general"
        width="600"
        height="600"
        src="html/about-me.html"
      ></iframe>
      <iframe
        id="hireMe"
        class="iframe-general"
        width="550"
        height="600"
        src="html/hire-me.html"
      ></iframe>
      <iframe
        id="skills"
        class="iframe-general"
        width="750"
        height="500"
        src="html/skills.html"
      ></iframe>
      <iframe
        id="projects"
        class="iframe-general"
        width="750"
        height="550"
        src="html/projects.html"
      ></iframe>
      <iframe
        id="smallGames"
        class="iframe-general"
        width="550"
        height="550"
        src="html/small-games.html"
      ></iframe> -->
            <!-- controls indication in the bottom left corner -->
            <div id="controls-container" class="unselectable">
                <p class="default-text title">Controls:</p>
                <div class="flex-column-space" style="height: 70%; width: 250px">
                    <div class="flex-row-space">
                        <div class="flex-row-space" style="width: 50%">
                            <div class="white-button square">
                                <div id="forward" class="white-button-text"></div>
                            </div>
                            <div class="white-button square">
                                <div id="left" class="white-button-text"></div>
                            </div>
                            <div class="white-button square">
                                <div id="backward" class="white-button-text"></div>
                            </div>
                            <div class="white-button square">
                                <div id="right" class="white-button-text"></div>
                            </div>
                        </div>
                        <div class="default-text">Movement</div>
                    </div>

                    <div class="flex-row-space">
                        <div class="white-button rectangle">
                            <div class="white-button-text">Shift</div>
                        </div>
                        <div class="default-text">Sprint</div>
                    </div>

                    <div class="flex-row-space">
                        <div class="white-button square">
                            <div class="white-button-text">F</div>
                        </div>
                        <div class="default-text">Free camera</div>
                    </div>

                    <div class="flex-row-space">
                        <div class="white-button rectangle">
                            <div class="white-button-text">Space</div>
                        </div>
                        <div class="default-text">Game action</div>
                    </div>
                </div>
            </div>
            <!-- quests -->
            <div id="quests-container" class="unselectable">
                <p class="default-text title">Objectives:</p>
                <div class="flex-column-space" style="height: 70%; width: 400px">
                    <div id="treasure-quest" class="flex-row-start" style="align-items: center">
                        <div class="white-button square">
                            <div class="white-button-text">
                                <svg
                                    style="display: none"
                                    xmlns="http://www.w3.org/2000/svg"
                                    width="25"
                                    height="25"
                                    fill="currentColor"
                                    class="bi bi-check"
                                    viewBox="0 0 25 25"
                                >
                                    <path
                                        d="M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.267.267 0 0 1 .02-.022z"
                                    />
                                </svg>
                            </div>
                        </div>
                        <div class="default-text" style="margin-left: 0.5em">
                            Find the treasure chest
                        </div>
                    </div>

                    <div id="mystery-box-quest" class="flex-row-start">
                        <div class="white-button square">
                            <div class="white-button-text">
                                <svg
                                    style="display: none"
                                    xmlns="http://www.w3.org/2000/svg"
                                    width="25"
                                    height="25"
                                    fill="currentColor"
                                    class="bi bi-check"
                                    viewBox="0 0 25 25"
                                >
                                    <path
                                        d="M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.267.267 0 0 1 .02-.022z"
                                    />
                                </svg>
                            </div>
                        </div>
                        <div class="default-text" style="margin-left: 0.5em">
                            Open the mystery box
                        </div>
                    </div>

                    <div id="treasure-box-quest" class="flex-row-start">
                        <div class="white-button square">
                            <div class="white-button-text">
                                <svg
                                    style="display: none"
                                    xmlns="http://www.w3.org/2000/svg"
                                    width="25"
                                    height="25"
                                    fill="currentColor"
                                    class="bi bi-check"
                                    viewBox="0 0 25 25"
                                >
                                    <path
                                        d="M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.267.267 0 0 1 .02-.022z"
                                    />
                                </svg>
                            </div>
                        </div>
                        <div class="default-text" style="margin-left: 0.5em">
                            Browse at least one face of the cube
                        </div>
                    </div>

                    <div id="pro-quest" class="flex-row-start">
                        <div class="white-button square">
                            <div class="white-button-text">
                                <svg
                                    style="display: none"
                                    xmlns="http://www.w3.org/2000/svg"
                                    width="25"
                                    height="25"
                                    fill="currentColor"
                                    class="bi bi-check"
                                    viewBox="0 0 25 25"
                                >
                                    <path
                                        d="M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.267.267 0 0 1 .02-.022z"
                                    />
                                </svg>
                            </div>
                        </div>
                        <div class="default-text" style="margin-left: 0.5em">
                            Discover all faces of the cube
                        </div>
                    </div>
                </div>
            </div>
            <!-- character selection screen -->
            <div id="character-selection">
                <div id="character-selection-title">Select your character :</div>
                <canvas id="character-selection-canvas"></canvas>
                <button id="character-selection-validate" class="validate">Validate</button>
            </div>
            <canvas id="c"></canvas>
            <!-- allows responsive design -->
            <div id="loading">
                <!-- progress bar -->
                <div class="loading-legend">
                    Welcome to my portfolio website !<br /><br />
                    You will soon be transported into a virtual world in which you will have to
                    complete a very short quest.<br />
                    If you are running this app on an old computer you might want to consider to
                    play this game on low resolution. Also this app is not yet a great fit for a
                    mobile/tablet device so please consider switching to a PC, laptop for better
                    experience.<br /><br />
                    I hope you will enjoy it !
                </div>
                <div class="progress">
                    <p class="progressTitle"></p>
                    <div class="progressBar"></div>
                </div>
            </div>
            <div id="settings-container">
                <!-- settings -->
                <div id="settings">
                    <form id="graphics">
                        <p>Video graphics quality</p>
                        <input type="radio" id="low" name="graphics" value="low" />
                        <label for="low">Low</label><br />
                        <input type="radio" id="medium" name="graphics" value="medium" checked />
                        <label for="medium">Medium (default)</label><br />
                        <input type="radio" name="graphics" value="high" />
                        <label for="high">High</label>
                    </form>
                    <form id="keyboard">
                        <p>Keyboard type</p>
                        <input type="radio" name="keyboard" id="qwerty" value="qwerty" checked />
                        <label for="qwerty">QWERTY (default)</label><br />
                        <input type="radio" name="keyboard" id="azerty" value="azerty" />
                        <label for="azerty">AZERTY</label><br />
                    </form>
                </div>

                <button id="submit-settings" class="validate">Validate</button>
            </div>
        </div>

        <!-- global script -->
        <script>
            function closeIFrame(name) {
                this.focus(); //allows the main window frame to recover the focus.
                const selector = '#' + name;
                document.querySelector(selector).style.display = 'none';
            }

            const canvas = document.getElementById('c');
            const fullScreen = document.getElementById('full-screen');
            fullScreen.addEventListener('click', (e) => openFullscreen());

            function openFullscreen() {
                if (canvas.requestFullscreen) canvas.requestFullscreen();
            }
            function closeFullscreen() {
                if (document.fullscreenElement) document.exitFullscreen();
            }
        </script>
    </body>
</html>
